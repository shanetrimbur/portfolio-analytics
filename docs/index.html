<!-- web/index.html -->
<!DOCTYPE html>
<html lang="en" class="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quantex Portfolio Analytics</title>
    <!-- Tailwind CSS first -->
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <!-- JetBrains Mono font -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/jetbrains-mono@1.0.6/css/jetbrains-mono.min.css">
    <!-- Custom styles after -->
    <link href="assets/css/styles.css" rel="stylesheet">
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/d3@7"></script>
    <!-- Add config file before app.js -->
    <script src="assets/js/config.js"></script>
</head>
<body class="bg-gray-900 text-gray-100">
    <nav class="bg-gray-800 text-white p-4">
        <div class="container mx-auto">
            <h1 class="text-2xl font-bold text-accent-blue">Quantex Portfolio Analytics</h1>
        </div>
    </nav>

    <div class="dashboard-container container mx-auto p-4">
        <!-- Stock Input Section -->
        <div class="panel bg-secondary p-6 rounded-lg shadow-lg mb-4">
            <div class="panel-header">
                <span class="panel-title">Portfolio Configuration</span>
                <div id="loading" class="loading-indicator" style="display: none;"></div>
            </div>
            <div class="stock-input-container">
                <input type="text" id="stock-symbol" 
                       class="stock-input bg-gray-700 border-gray-600 text-white" 
                       placeholder="Enter stock symbol (e.g., AAPL)">
                <button id="add-stock" class="action-button">Add Stock</button>
            </div>
            <div id="stock-list" class="stock-list">
                <!-- Stock tags will be added here -->
            </div>
        </div>

        <!-- Portfolio Metrics -->
        <div class="panel bg-secondary p-6 rounded-lg shadow-lg mb-4">
            <div class="panel-header">
                <span class="panel-title">Portfolio Metrics</span>
            </div>
            <div class="metrics-grid">
                <div class="metric-card">
                    <div class="metric-value" id="total-return">--</div>
                    <div class="metric-label">Total Return</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value" id="sharpe-ratio">--</div>
                    <div class="metric-label">Sharpe Ratio</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value" id="volatility">--</div>
                    <div class="metric-label">Volatility</div>
                </div>
                <div class="metric-card">
                    <div class="metric-value" id="max-drawdown">--</div>
                    <div class="metric-label">Max Drawdown</div>
                </div>
            </div>
        </div>

        <!-- Charts Section -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div class="panel bg-secondary p-6 rounded-lg shadow-lg">
                <div class="panel-header">
                    <span class="panel-title">Portfolio Performance</span>
                </div>
                <div id="performance-chart" class="chart-container"></div>
            </div>
            <div class="panel bg-secondary p-6 rounded-lg shadow-lg">
                <div class="panel-header">
                    <span class="panel-title">Asset Allocation</span>
                </div>
                <div id="allocation-chart" class="chart-container"></div>
            </div>
        </div>

        <!-- SEC Filings Analysis Panel -->
        <div class="panel bg-secondary p-6 rounded-lg shadow-lg mt-4">
            <div class="panel-header">
                <span class="panel-title">SEC Filings Analysis</span>
            </div>
            <div class="sec-data-container">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div class="filing-list">
                        <h3 class="text-lg font-medium mb-3 text-gray-300">Recent Filings</h3>
                        <div id="filings-table" class="table-container"></div>
                    </div>
                    <div class="financial-metrics">
                        <div class="metrics-grid">
                            <div class="metric-card">
                                <div class="metric-title">Return on Equity</div>
                                <div class="metric-value" id="roe-value">--%</div>
                            </div>
                            <div class="metric-card">
                                <div class="metric-title">Debt to Equity</div>
                                <div class="metric-value" id="dte-value">--%</div>
                            </div>
                            <div class="metric-card">
                                <div class="metric-title">Current Ratio</div>
                                <div class="metric-value" id="cr-value">--</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="assets/js/app.js"></script>
</body>
</html>
